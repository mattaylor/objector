const O=Object,F=O.fromEntries,K=O.keys,A=O.assign,P={every(t){for(let e in this)if(!t(this[e],e))return!1;return!0},some(t){for(let e in this)if(t(this[e],e))return!0;return!1},map(t){let e={};for(let i in this)e[i]=t(this[i],i);return e},has(t){return this.find((e=>e.equals(t)))},filter(t){let e={};for(let i in this)t(this[i],i)&&(e[i]=this[i]);return e},flatMap(t){return F(K(this).flatMap((e=>t(e,this[e]))))},clean(){return this.filter((t=>t))},type(){return this.constructor.name},is(t){return t==O?![String,Boolean,Number,Function].includes(this.constructor):this.constructor==t||this.is(O)&&this instanceof t},find(t){for(let e in this)if(t(this[e],e))return e},extend(...t){return A(this,...t,this)},delete(...t){for(let e of t)delete this[e];return this},json(){return JSON.stringify(this)},clone(t){return this.is(O)?this.constructor==Array?this.map((e=>t&&e?e.clone(t-1):e)):new this.constructor(this.valueOf().is(O)?this.map((e=>t&&e?e.clone(t-1):e)):this):this.valueOf()},[Symbol.iterator](){return this.values()[Symbol.iterator]()},join(...t){let e=A({},this);for(let i of t)K(i).map((t=>e[t]&&=[].concat(e[t],i[t])));return e},split(){let t=[];for(let e in this)this[e].map(((i,r)=>t[r]?t[r][e]=i:t[r]={[e]:i}));return t},common(t){return F(K(this).flatMap((e=>t[e]==this[e]?[[e,this[e]]]:[])))},contains(t,e){for(let i in t)if(!(this[i]?.equals(t[i])||e&&this.some((i=>i.contains(t,e-1)))))return!1;return!0},equals(t,e){return this==t||this.type()==t.type()&&this.size()==t.size()&&!(this-t)&&this.every(((i,r)=>i==t[r]||e&&i?.equals(t[r],e-1)))},size(){return K(this).length},keyBy(t,e){return t.map((t=>this[t[e]]=this[t[e]]?[t].concat(this[t[e]]):t)),this},bind(t,e){return this[t]=function(...t){return e(this,...t)},this},memo(t,e,i=1){this[t]=function(...r){let s=`__${t}(${r})`;return this[s]&&this[s][0]>Date.now()-1e3*i?this[s][1]:(this[s]=[Date.now(),e(this,...r)])[1]}},log(t="",e,i="log"){return!e||e(this)&&console[i]((new Date).toISOString().slice(0,-8),t,this.clone()),this},try(t,e){try{t(this)}catch(t){e&&e(t,this)}finally{return this}},new(t){return this._t?new Proxy(this._t.new(t),this._h):A(this.create(),t)},trap(t,e,...i){return new Proxy(this,{set(r,s,n){if((!i[0]||i.has(s))&&!t(n,s,r)&&e)throw[e,s,n]+"";return r[s]=n},get(t,e){return{_t:t,_h:this}[e]||t[e]}})}};for(let t of["keys","values","entries","create","assign"])P[t]=function(...e){return O[t](this,...e)};for(let t in P)if("_"!=t[0]){O.prototype[t]=P[t],[t,"__"+t].map((e=>O.defineProperty(O.prototype,e,{enumerable:!1,value:P[t]})));try{module.exports[t]=(e,...i)=>e["__"+t](...i)}catch{}}