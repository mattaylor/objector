const O=Object,F=O.fromEntries,K=O.keys,A=O.assign,M={every(t){for(let e in this)if(!t(this[e],e))return!1;return!0},some(t){for(let e in this)if(t(this[e],e))return!0;return!1},map(t){let e={};for(let i in this)e[i]=t(this[i],i);return e},has(t){return this.find((e=>e.equals(t)))},filter(t){let e={};for(let i in this)t(this[i],i)&&(e[i]=this[i]);return e},flatMap(t){return F(K(this).flatMap((e=>t(e,this[e]))))},clean(){return this.filter((t=>t))},is(t,e){return t==O?!e&&![String,Boolean,Number,Function].includes(this.constructor):this.constructor==t||!e&&this instanceof t},find(t){for(let e in this)if(t(this[e],e))return e},extend(...t){return A(this,...t,this)},delete(...t){for(let e of t)delete this[e];return this},clone(t){return this.is(O)?this.is(Array,1)?this.map((e=>t&&e?e.clone(t-1):e)):new this.constructor(this.valueOf().is(O)?this.map((e=>t&&e?e.clone(t-1):e)):this):this.valueOf()},clone(t){return this.is(O)?this.is(Array,1)?this.map((e=>t&&e?e.clone(t-1):e)):new this.constructor(this.valueOf().is(O)?this.map((e=>t&&e?e.clone(t-1):e)):this):this.valueOf()},join(...t){let e=A({},this);for(let i of t)K(i).map((t=>e[t]&&=[].concat(e[t],i[t])));return e},split(){let t=[];for(let e in this)this[e].map(((i,r)=>t[r]?t[r][e]=i:t[r]={[e]:i}));return t},common(t){return F(K(this).flatMap((e=>t[e]==this[e]?[[e,this[e]]]:[])))},contains(t,e){for(let i in t)if(!(this[i]?.equals(t[i])||e&&this.some((i=>i.contains(t,e-1)))))return!1;return!0},equals(t,e){return this==t||this.constructor==t.constructor&&this.size()==t.size()&&!(this-t)&&this.every(((i,r)=>i==t[r]||e&&i?.equals(t[r],e-1)))},size(){return K(this).length},keyBy(t,e){return t.map((t=>this[t[e]]=this[t[e]]?[t].concat(this[t[e]]):t)),this},$(t){return t?t.stringify(this):JSON.stringify(this).replace(/\"/g,"")},memo(t,e,i){return def(this,t,i?function(...r){let s=`__${t}`+r.$();return this[s]||(setTimeout((()=>delete this[s]),1e3*i),def(this,s,e(...r,this)))}:function(...t){return e(...t,this)}),this},log(t="",e="log"){return console[e]((new Date).toISOString().slice(0,-8),t,this.clone()),this},try(t,e){try{t(this)}catch(t){e&&e(t,this)}finally{return this}},new(t){return this._t?new Proxy(this._t.new(t),this._h):A(this.create(),t)},trap(t,e,...i){return new Proxy(this,{set(r,s,n){if((!i[0]||i.has(s))&&!t(n,s,r)&&e)throw[e,s,n]+"";return r[s]=n},get(t,e){return{_t:t,_h:this}[e]||t[e]}})}};for(let t of["keys","values","entries","create","assign"])M[t]=function(...e){return O[t](this,...e)};let def=(t,e,i)=>(O.defineProperty(t,e,{writable:!0,value:i}),i);O.prototype[Symbol.iterator]=function(){return this.values()[Symbol.iterator]()};for(let t in M)if("_"!=t[0]){[t,"__"+t].map((e=>def(O.prototype,e,M[t])));try{module.exports[t]=(e,...i)=>e["__"+t](...i)}catch{}}