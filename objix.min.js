const O=Object,F=O.fromEntries,K=O.keys,A=O.assign,P={every(t){for(let e in this)if(!t(this[e],e))return!1;return!0},some(t){for(let e in this)if(t(this[e],e))return!0;return!1},map(t){let e={};for(let r in this)e[r]=t(this[r],r);return e},has(t){return this.find((e=>e.equals(t)))},filter(t){let e={};for(let r in this)t(this[r],r)&&(e[r]=this[r]);return e},flatMap(t){return F(K(this).flatMap((e=>t(e,this[e]))))},clean(){return this.filter((t=>t))},is(t){return t==O?![String,Boolean,Number,Function].includes(this.constructor):this.constructor==t||this.is(O)&&this instanceof t},find(t){for(let e in this)if(t(this[e],e))return e},extend(...t){return A(this,...t,this)},delete(...t){for(let e of t)delete this[e];return this},clone(t){return this.is(O)?this.constructor==Array?this.map((e=>t&&e?e.clone(t-1):e)):new this.constructor(this.valueOf().is(O)?this.map((e=>t&&e?e.clone(t-1):e)):this):this.valueOf()},join(...t){let e=A({},this);for(let r of t)K(r).map((t=>e[t]&&=[].concat(e[t],r[t])));return e},split(){let t=[];for(let e in this)this[e].map(((r,i)=>t[i]?t[i][e]=r:t[i]={[e]:r}));return t},common(t){return F(K(this).flatMap((e=>t[e]==this[e]?[[e,this[e]]]:[])))},contains(t,e){for(let r in t)if(!(this[r]?.equals(t[r])||e&&this.some((r=>r.contains(t,e-1)))))return!1;return!0},equals(t,e){return this==t||this.constructor==t.constructor&&this.size()==t.size()&&!(this-t)&&this.every(((r,i)=>r==t[i]||e&&r?.equals(t[i],e-1)))},size(){return K(this).length},keyBy(t,e){return t.map((t=>this[t[e]]=this[t[e]]?[t].concat(this[t[e]]):t)),this},bind(t,e){return this[t]=function(...t){return e(this,...t)},this},toString(){return`{${K(this).map((t=>t+":"+this[t]))}}`},memo(t,e,r=1){this[t]=function(...i){let s=`__${t}$`+i;return this[s]?.at(0)>Date.now()-1e3*r?this[s][1]:def(this,s,[Date.now(),e(this,...i)])[1]}},log(t="",e="log"){return console[e]((new Date).toISOString().slice(0,-8),t,this.clone()),this},try(t,e){try{t(this)}catch(t){e&&e(t,this)}finally{return this}},new(t){return this._t?new Proxy(this._t.new(t),this._h):A(this.create(),t)},trap(t,e,...r){return new Proxy(this,{set(i,s,n){if((!r[0]||r.has(s))&&!t(n,s,i)&&e)throw[e,s,n]+"";return i[s]=n},get(t,e){return{_t:t,_h:this}[e]||t[e]}})}};for(let t of["keys","values","entries","create","assign"])P[t]=function(...e){return O[t](this,...e)};let def=(t,e,r)=>(O.defineProperty(t,e,{writable:!0,value:r}),r);O.prototype[Symbol.iterator]=function(){return this.values()[Symbol.iterator]()};for(let t in P)if("_"!=t[0]){[t,"__"+t].map((e=>def(O.prototype,e,P[t])));try{module.exports[t]=(e,...r)=>e["__"+t](...r)}catch{}}